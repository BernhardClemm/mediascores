---
date: "Last updated: `r format(Sys.time(), '%B %d, %Y')`"
output:
  html_document:
    toc: false
    toc_float: false
    theme: default
    highlight: default
bibliography: "Bibliography.bib"
biblio-style: apsr
comment: ""
vignette: >
  %\VignetteIndexEntry{misreport Vignette}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
params:
  EVAL: !r identical(Sys.getenv("NOT_CRAN"), "true")
---

<!--- 
rmarkdown::render("~/Dropbox (Personal)/Software/misreport/vignettes/misreport-vignette.Rmd")
-->

<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,900' rel='stylesheet' type='text/css'>

<script type="text/x-mathjax-config"> 
    MathJax.Hub.Config({ 
        "HTML-CSS": { scale: 91, linebreaks: { automatic: true } }, 
        SVG: { linebreaks: { automatic:true } }, 
        displayAlign: "center" });
</script>

<style>
  @media {
    .container-fluid{
      max-width: 750px;
    }
  }

  body {
    background: #F6F6F6;
    font-family: 'Open Sans', sans-serif;
    font-size: 17px;
  }

  mark {
    background-color: #E9E9E9;
    color: #000000;
  }

  pre {
    background-color: #FFFFFF;
    border-radius: 0px;
    border-width: 1px;
    border-style: dotted;
    border-color: #3B3B3B;

  }

  p {
    padding-top: 10px;
  }

  .container-fluid h1,
  .container-fluid h2,
  .container-fluid h3,
  .container-fluid h4{
    color:#000000;
    font-weight: 600;
    font-family: 'Open Sans', sans-serif;
  }

  .container-fluid h1{
    text-align: left;
    letter-spacing: 1px;
    line-height: 130%;
    font-weight: 900;
    font-size: 32px;
    padding-top:10px;
    padding-bottom:5px;
  }

  .container-fluid h2{
    text-align: left;
    letter-spacing: 1px;
    font-weight: 900;
    font-size: 18px;
    padding-bottom:5px;
  }

  blockquote {
    border-left: 0px solid;
    padding-left: 40px;
    padding-top: 14px;
    padding-bottom: 18px;
    padding-right: 40px;
    background-color: #F6F6F6;
    border-top: 0px;
    border-bottom: 0px;
    margin: 0px;
    background-position: middle left;
    background-repeat: no-repeat;
    text-indent: 0px;
    font-size: 16px;
    letter-spacing: 0px;
    /*line-height: 22px;*/
    font-family: 'Lato', sans-serif;
  }

  a:link,
  a:visited,
  a:hover,
  a:active {
    color: #db0057;
  }

  hr {
    width: 100%;
    margin-left: 0; 
    margin-right: auto; 
    height: 0px;
    border: 1px;
    color: #db0057;
    border-top: dotted 1px;
  }

</style>


```{r set-options, include = FALSE}
options(width = 10000)
knitr::opts_chunk$set(comment = "")
set.seed(121)
```


<!-- BEGIN DOCUMENT -->

<h1 style = "font-size: 32px; margin-bottom: 0px; padding-bottom:0px;">Computing news media ideology with news sharing behavior on social media</h1>
<h2 style = "font-size: 26px; margin-top: 15px">Using the [`mediascores`](https://cran.r-project.org/package=mediascores) package in R</h2>
<h5 style = "font-size: 18px; margin-top: 30px; font-weight: 300">**[Gregory Eady](https://google.com)**, **[Frido Linder](https://google.com)**, and **[Author 3](https://google.com)**</h5>
<hr style = "margin-bottom: 0px; margin-top: 18px; border:1px; border-top: dotted 1px; color:#006400">


# 1. Introduction {#section1}

This document provides a brief introduction to the R package [`mediascores`](https://cran.r-project.org/package=mediascores), which implements a statistical model for news media sharing data on social media (e.g. Twitter, Facebook, Reddit). The goal of the method is to provide a measure of (1) the news sharing ideology of both politicians (e.g. Members of Congress) and ordinary users on social media, and (2) the ideology of the content that they share (e.g. nytimes.com, cnn.com, foxnews.com).

The logic behind the method is intuitive, and is based on a straightforward assumption of homophily: that politicians and ordinary users on social media are more likely to share news stories that are ideology close to themselves, and avoid sharing stories that are ideologically distant. In the US context, for example, a user who is liberal can be assumed to share more content from the New York Times or MSNBC than they are content from the Wall Street Journal or Fox News. Conservatives, by contrast, will be more likely to share more content from the Wall Street Journal and Fox News than from the New York Times or MSNBC.

Below, we work through an application of the method to Twitter data collected from politicians during the 115th Congress. Our example shows how researchers can use these or analogous data to calculate the news-sharing ideology of social media users---in this case, politicians---and the ideology of the content they themselves share.

# 2. Data {#section2}

As data, the model uses the number of stories from each news media domain that is shared by each politician or user. In this vignette, we work through an example using the news stories shared by members of the 115th US Congress, governors, and members of the US executive (e.g. past and former Presidents). The data come from the timelines of these users, as collected by one of the authors through the Twitter API near the end of 2018. The URLs from each timeline were extracted and, when necessary, unshortened (e.g. [`nyti.ms/2BUTshD`](https://nyti.ms/2BUTshD) ---> [`nytimes.com/2018/...`](https://www.nytimes.com/2018/02/13/upshot/fake-news-and-bots-may-be-worrisome-but-their-political-power-is-overblown.html)). The final matrix, as described in further detail below, contains all URLs from tweets and retweets (quote-tweets excluded) that linked to national news media.





# 3. Covariates {#section3}

Before turning to the data-generating process

To begin, let's say that we have $10000$ respondents $i = 1, \ldots, 10000$ in a data.frame `A`:

```{r}
n <- 10000
A <- data.frame(i = 1:n)
```

For concreteness, we will generate respondent characteristics that we will say represent age, gender, and education:

```{r}
A$age <- round(runif(n, 18, 90))
A$gender <- sample(c("Woman", "Man"), n, replace = TRUE, prob = c(0.52, 0.48))
A$education <- sample(c("Below high school",
                        "High school",
                        "College"),
                      n, replace = TRUE, prob = c(0.25, 0.35, 0.4))
A$education <- factor(A$education, levels = c("Below high school",
                                              "High school",
                                              "College"))
```


# References
<hr style = "margin-bottom: 22px; margin-top: 12px; border:1px; border-top: dotted 1px; color:#006400">

